{"sections":[],"metadata":{"role":"article","modules":[{"name":"StoryKit"}],"title":"Persistence","roleHeading":"Article"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/storykit\/persistence"]}],"hierarchy":{"paths":[["doc:\/\/StoryKit\/documentation\/StoryKit"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/StoryKit\/documentation\/StoryKit\/Persistence"},"abstract":[{"type":"text","text":"Save and load story state with pluggable backends."}],"kind":"article","schemaVersion":{"major":0,"minor":3,"patch":0},"primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","text":"Overview","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"text":"The Persistence module defines protocols and default implementations for saving snapshots of your story state.","type":"text"}]},{"level":2,"type":"heading","text":"Key Types","anchor":"Key-Types"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"SaveProvider"},{"type":"text","text":": Protocol for asynchronous save\/load\/list operations."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StorySave"},{"type":"text","text":": Codable container that wraps "},{"type":"codeVoice","code":"storyID"},{"type":"text","text":", your state, and a timestamp."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"InMemorySaveProvider"},{"type":"text","text":": Lightweight in‑process backend for tests and previews."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"JSONFileSaveProvider"},{"type":"text","text":": Writes snapshots to JSON files in a directory."}]}]}],"type":"unorderedList"},{"level":2,"type":"heading","text":"Autosave Integration","anchor":"Autosave-Integration"},{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"type":"codeVoice","code":"makeAutoSaveHandler(storyID:slot:provider:)"},{"text":" to create a closure you can pass to ","type":"text"},{"type":"codeVoice","code":"StoryEngine"},{"text":"’s initializer. The engine calls this after transitions and actions.","type":"text"}]},{"level":2,"type":"heading","text":"Slots","anchor":"Slots"},{"type":"paragraph","inlineContent":[{"text":"Backends support multiple slots (e.g., ","type":"text"},{"type":"codeVoice","code":"autosave"},{"text":", ","type":"text"},{"type":"codeVoice","code":"slot1"},{"text":"), enabling per‑profile or per‑checkpoint saving.","type":"text"}]}]}],"references":{"doc://StoryKit/documentation/StoryKit":{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit","title":"StoryKit","type":"topic","kind":"symbol","role":"collection","abstract":[],"url":"\/documentation\/storykit"}}}