{"kind":"article","abstract":[{"type":"text","text":"Save and load story state with pluggable backends."}],"identifier":{"url":"doc:\/\/StoryKit\/documentation\/StoryKit\/Persistence","interfaceLanguage":"swift"},"variants":[{"paths":["\/documentation\/storykit\/persistence"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"schemaVersion":{"major":0,"patch":0,"minor":3},"primaryContentSections":[{"content":[{"type":"heading","level":2,"text":"Overview","anchor":"Overview"},{"inlineContent":[{"type":"text","text":"The Persistence module defines protocols and default implementations for saving snapshots of your story state."}],"type":"paragraph"},{"type":"heading","anchor":"Key-Types","level":2,"text":"Key Types"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"SaveProvider"},{"type":"text","text":": Protocol for asynchronous save\/load\/list operations."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StorySave"},{"type":"text","text":": Codable container that wraps "},{"type":"codeVoice","code":"storyID"},{"type":"text","text":", your state, and a timestamp."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"InMemorySaveProvider"},{"type":"text","text":": Lightweight in‑process backend for tests and previews."}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"JSONFileSaveProvider"},{"type":"text","text":": Writes snapshots to JSON files in a directory."}],"type":"paragraph"}]}]},{"type":"heading","anchor":"Autosave-Integration","level":2,"text":"Autosave Integration"},{"inlineContent":[{"text":"Use ","type":"text"},{"type":"codeVoice","code":"makeAutoSaveHandler(storyID:slot:provider:)"},{"type":"text","text":" to create a closure you can pass to "},{"type":"codeVoice","code":"StoryEngine"},{"type":"text","text":"’s initializer. The engine calls this after transitions and actions."}],"type":"paragraph"},{"type":"heading","anchor":"Slots","level":2,"text":"Slots"},{"inlineContent":[{"text":"Backends support multiple slots (e.g., ","type":"text"},{"code":"autosave","type":"codeVoice"},{"text":", ","type":"text"},{"type":"codeVoice","code":"slot1"},{"type":"text","text":"), enabling per‑profile or per‑checkpoint saving."}],"type":"paragraph"}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/StoryKit\/documentation\/StoryKit"]]},"metadata":{"title":"Persistence","roleHeading":"Article","role":"article","modules":[{"name":"StoryKit"}]},"references":{"doc://StoryKit/documentation/StoryKit":{"role":"collection","kind":"symbol","title":"StoryKit","type":"topic","url":"\/documentation\/storykit","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit","abstract":[{"text":"Build rich, data‑driven “choose your own adventure” experiences with a small, composable core and first‑class tooling.","type":"text"}]}}}