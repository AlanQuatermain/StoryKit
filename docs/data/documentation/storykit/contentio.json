{"kind":"article","primaryContentSections":[{"kind":"content","content":[{"text":"Overview","anchor":"Overview","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"StoryKit handles authoring and runtime content formats, text parsing, and compiled bundle manifests.","type":"text"}]},{"text":"Layouts and Loaders","anchor":"Layouts-and-Loaders","type":"heading","level":2},{"items":[{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StorySourceLayout"},{"type":"text","text":": Describes a source folder with "},{"type":"codeVoice","code":"story.json"},{"type":"text","text":" and "},{"type":"codeVoice","code":"texts\/"},{"type":"text","text":"."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleLayout","isActive":true,"type":"reference"},{"text":": Describes a compiled ","type":"text"},{"code":".storybundle","type":"codeVoice"},{"text":" directory.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryLoader"},{"type":"text","text":": Loads a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/Story"},{"type":"text","text":" from a "},{"type":"codeVoice","code":"story.json"},{"text":" file.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleLoader","type":"reference","isActive":true},{"type":"text","text":": Loads a "},{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/Story","type":"reference","isActive":true},{"type":"text","text":" from a bundle’s "},{"type":"codeVoice","code":"graph.json"},{"type":"text","text":"."}]}]}],"type":"unorderedList"},{"text":"Compiler and Manifest","level":2,"type":"heading","anchor":"Compiler-and-Manifest"},{"items":[{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryCompiler","isActive":true},{"type":"text","text":": Compiles a source folder into a bundle."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleManifest","type":"reference"},{"text":": Records schema version, story metadata, build time, and the SHA‑256 hash of ","type":"text"},{"type":"codeVoice","code":"graph.json"},{"text":".","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Markdown Text","level":2,"type":"heading","anchor":"Markdown-Text"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/TextSectionParser","isActive":true},{"text":": Splits Markdown files into named sections using lines of the form ","type":"text"},{"code":"=== node: <section-id> ===","type":"codeVoice"},{"text":".","type":"text"}]}]}],"type":"unorderedList"},{"text":"Text Providers","level":3,"type":"heading","anchor":"Text-Providers"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/SourceTextProvider","isActive":true,"type":"reference"},{"text":" and ","type":"text"},{"isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/BundleTextProvider","type":"reference"},{"text":": Minimal providers that parse a file on each request.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/CachedSourceTextProvider"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/CachedBundleTextProvider"},{"type":"text","text":": Actor‑based providers with LRU caches and memory‑pressure purging."}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Both cached providers accept a "},{"code":"maxBytes","type":"codeVoice"},{"type":"text","text":" budget and evict least‑recently‑used files when the cache exceeds this size. Memory pressure notifications trigger a full purge."}]},{"type":"heading","anchor":"Errors","text":"Errors","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryIOError"},{"type":"text","text":": Throws when a requested text section is missing."}]}]}]}]}],"metadata":{"role":"article","title":"Content I\/O","roleHeading":"Article","modules":[{"name":"StoryKit"}]},"hierarchy":{"paths":[["doc:\/\/StoryKit\/documentation\/StoryKit"]]},"sections":[],"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"url":"doc:\/\/StoryKit\/documentation\/StoryKit\/ContentIO","interfaceLanguage":"swift"},"abstract":[{"text":"Load, compile, and serve story content and text.","type":"text"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/storykit\/contentio"]}],"references":{"doc://StoryKit/documentation/StoryKit/BundleTextProvider":{"kind":"symbol","url":"\/documentation\/storykit\/bundletextprovider","title":"BundleTextProvider","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/BundleTextProvider","abstract":[{"type":"text","text":"A simple text provider for compiled bundles that parses each request."}],"role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"BundleTextProvider"}],"navigatorTitle":[{"kind":"identifier","text":"BundleTextProvider"}],"type":"topic"},"doc://StoryKit/documentation/StoryKit/StoryBundleLayout":{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleLayout","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoryBundleLayout"}],"abstract":[{"text":"Describes the on-disk layout for a compiled directory-based story bundle.","type":"text"}],"title":"StoryBundleLayout","kind":"symbol","url":"\/documentation\/storykit\/storybundlelayout","role":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StoryBundleLayout"}]},"doc://StoryKit/documentation/StoryKit/StoryBundleLoader":{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleLoader","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"StoryBundleLoader","kind":"identifier"}],"abstract":[{"type":"text","text":"Loads a Story from a compiled bundle’s "},{"type":"codeVoice","code":"graph.json"},{"type":"text","text":" file."}],"kind":"symbol","title":"StoryBundleLoader","url":"\/documentation\/storykit\/storybundleloader","role":"symbol","type":"topic","navigatorTitle":[{"text":"StoryBundleLoader","kind":"identifier"}]},"doc://StoryKit/documentation/StoryKit/CachedSourceTextProvider":{"role":"symbol","kind":"symbol","type":"topic","title":"CachedSourceTextProvider","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/CachedSourceTextProvider","abstract":[{"type":"text","text":"An actor-based provider that caches parsed source files with LRU eviction and memory pressure purge."}],"fragments":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"CachedSourceTextProvider"}],"navigatorTitle":[{"kind":"identifier","text":"CachedSourceTextProvider"}],"url":"\/documentation\/storykit\/cachedsourcetextprovider"},"doc://StoryKit/documentation/StoryKit/Story":{"type":"topic","navigatorTitle":[{"text":"Story","kind":"identifier"}],"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/Story","abstract":[{"text":"A complete story graph plus metadata and a starting node.","type":"text"}],"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"Story","kind":"identifier"}],"kind":"symbol","title":"Story","url":"\/documentation\/storykit\/story","role":"symbol"},"doc://StoryKit/documentation/StoryKit/StorySourceLayout":{"kind":"symbol","url":"\/documentation\/storykit\/storysourcelayout","navigatorTitle":[{"text":"StorySourceLayout","kind":"identifier"}],"type":"topic","title":"StorySourceLayout","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"StorySourceLayout","kind":"identifier"}],"abstract":[{"text":"Describes the on-disk layout for a human-authored story source.","type":"text"}],"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StorySourceLayout"},"doc://StoryKit/documentation/StoryKit/StoryCompiler":{"url":"\/documentation\/storykit\/storycompiler","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryCompiler","type":"topic","role":"symbol","abstract":[{"type":"text","text":"Compiles a source folder into a directory-based bundle for runtime use."}],"title":"StoryCompiler","navigatorTitle":[{"kind":"identifier","text":"StoryCompiler"}],"kind":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoryCompiler"}]},"doc://StoryKit/documentation/StoryKit/StoryBundleManifest":{"title":"StoryBundleManifest","abstract":[{"text":"Metadata describing a compiled story bundle.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"StoryBundleManifest"}],"url":"\/documentation\/storykit\/storybundlemanifest","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleManifest","kind":"symbol","type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoryBundleManifest"}]},"doc://StoryKit/documentation/StoryKit/StoryLoader":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoryLoader"}],"abstract":[{"type":"text","text":"Loads a Story from a "},{"code":"story.json","type":"codeVoice"},{"type":"text","text":" file."}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"StoryLoader"}],"url":"\/documentation\/storykit\/storyloader","type":"topic","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryLoader","title":"StoryLoader","role":"symbol"},"doc://StoryKit/documentation/StoryKit/CachedBundleTextProvider":{"kind":"symbol","url":"\/documentation\/storykit\/cachedbundletextprovider","title":"CachedBundleTextProvider","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/CachedBundleTextProvider","abstract":[{"text":"An actor-based provider that caches parsed bundle files with LRU eviction and memory pressure purge.","type":"text"}],"role":"symbol","fragments":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"CachedBundleTextProvider"}],"navigatorTitle":[{"kind":"identifier","text":"CachedBundleTextProvider"}],"type":"topic"},"doc://StoryKit/documentation/StoryKit/SourceTextProvider":{"kind":"symbol","title":"SourceTextProvider","url":"\/documentation\/storykit\/sourcetextprovider","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/SourceTextProvider","abstract":[{"text":"A simple text provider that parses the source file each time.","type":"text"}],"role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"SourceTextProvider"}],"navigatorTitle":[{"kind":"identifier","text":"SourceTextProvider"}],"type":"topic"},"doc://StoryKit/documentation/StoryKit/TextSectionParser":{"role":"symbol","kind":"symbol","type":"topic","title":"TextSectionParser","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/TextSectionParser","abstract":[{"text":"Parses Markdown files that contain multiple node sections separated by a special token.","type":"text"},{"text":" ","type":"text"},{"text":"Token format (at start of line):","type":"text"},{"text":" ","type":"text"},{"text":"=== node: ","type":"text"},{"text":" ===","type":"text"},{"text":" ","type":"text"},{"text":"Splits Markdown into labeled sections using lines like ","type":"text"},{"code":"=== node: <section-id> ===","type":"codeVoice"},{"text":".","type":"text"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"TextSectionParser"}],"navigatorTitle":[{"text":"TextSectionParser","kind":"identifier"}],"url":"\/documentation\/storykit\/textsectionparser"},"doc://StoryKit/documentation/StoryKit/StoryIOError":{"title":"StoryIOError","abstract":[{"type":"text","text":"Errors thrown while loading Markdown text or locating sections."}],"navigatorTitle":[{"kind":"identifier","text":"StoryIOError"}],"url":"\/documentation\/storykit\/storyioerror","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryIOError","kind":"symbol","type":"topic","role":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"StoryIOError","kind":"identifier"}]},"doc://StoryKit/documentation/StoryKit":{"role":"collection","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit","type":"topic","abstract":[{"text":"Build rich, data‑driven “choose your own adventure” experiences with a small, composable core and first‑class tooling.","type":"text"}],"title":"StoryKit","kind":"symbol","url":"\/documentation\/storykit"}}}