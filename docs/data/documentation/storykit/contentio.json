{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/storykit\/contentio"]}],"abstract":[{"text":"Load, compile, and serve story content and text.","type":"text"}],"schemaVersion":{"major":0,"patch":0,"minor":3},"kind":"article","hierarchy":{"paths":[["doc:\/\/StoryKit\/documentation\/StoryKit"]]},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"StoryKit handles authoring and runtime content formats, text parsing, and compiled bundle manifests."}]},{"type":"heading","level":2,"text":"Layouts and Loaders","anchor":"Layouts-and-Loaders"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StorySourceLayout"},{"type":"text","text":": Describes a source folder with "},{"type":"codeVoice","code":"story.json"},{"text":" and ","type":"text"},{"code":"texts\/","type":"codeVoice"},{"text":".","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleLayout","isActive":true,"type":"reference"},{"text":": Describes a compiled ","type":"text"},{"code":".storybundle","type":"codeVoice"},{"text":" directory.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryLoader","type":"reference","isActive":true},{"type":"text","text":": Loads a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/Story"},{"type":"text","text":" from a "},{"type":"codeVoice","code":"story.json"},{"type":"text","text":" file."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleLoader"},{"type":"text","text":": Loads a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/Story"},{"type":"text","text":" from a bundle’s "},{"type":"codeVoice","code":"graph.json"},{"type":"text","text":"."}]}]}]},{"type":"heading","level":2,"text":"Compiler and Manifest","anchor":"Compiler-and-Manifest"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryCompiler"},{"type":"text","text":": Compiles a source folder into a bundle."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleManifest"},{"type":"text","text":": Records schema version, story metadata, build time, and the SHA‑256 hash of "},{"type":"codeVoice","code":"graph.json"},{"type":"text","text":"."}]}]}]},{"type":"heading","level":2,"text":"Markdown Text","anchor":"Markdown-Text"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/TextSectionParser","type":"reference"},{"text":": Splits Markdown files into named sections using lines of the form ","type":"text"},{"code":"=== node: <section-id> ===","type":"codeVoice"},{"text":".","type":"text"}]}]}]},{"type":"heading","level":3,"text":"Text Providers","anchor":"Text-Providers"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/SourceTextProvider","type":"reference"},{"text":" and ","type":"text"},{"isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/BundleTextProvider","type":"reference"},{"text":": Minimal providers that parse a file on each request.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/CachedSourceTextProvider","type":"reference"},{"text":" and ","type":"text"},{"isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/CachedBundleTextProvider","type":"reference"},{"text":": Actor‑based providers with LRU caches and memory‑pressure purging.","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"text":"Both cached providers accept a ","type":"text"},{"code":"maxBytes","type":"codeVoice"},{"text":" budget and evict least‑recently‑used files when the cache exceeds this size. Memory pressure notifications trigger a full purge.","type":"text"}]},{"type":"heading","level":2,"text":"Errors","anchor":"Errors"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryIOError","type":"reference"},{"text":": Throws when a requested text section is missing.","type":"text"}]}]}]}]}],"identifier":{"url":"doc:\/\/StoryKit\/documentation\/StoryKit\/ContentIO","interfaceLanguage":"swift"},"sections":[],"metadata":{"modules":[{"name":"StoryKit"}],"role":"article","roleHeading":"Article","title":"Content I\/O"},"references":{"doc://StoryKit/documentation/StoryKit/StoryBundleManifest":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoryBundleManifest"}],"abstract":[{"type":"text","text":"Metadata describing a compiled story bundle."}],"role":"symbol","kind":"symbol","url":"\/documentation\/storykit\/storybundlemanifest","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleManifest","type":"topic","title":"StoryBundleManifest","navigatorTitle":[{"kind":"identifier","text":"StoryBundleManifest"}]},"doc://StoryKit/documentation/StoryKit":{"type":"topic","kind":"symbol","role":"collection","title":"StoryKit","abstract":[{"text":"Build rich, data‑driven “choose your own adventure” experiences with a small, composable core and first‑class tooling.","type":"text"}],"url":"\/documentation\/storykit","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit"},"doc://StoryKit/documentation/StoryKit/CachedBundleTextProvider":{"fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CachedBundleTextProvider","kind":"identifier"}],"url":"\/documentation\/storykit\/cachedbundletextprovider","type":"topic","role":"symbol","abstract":[{"type":"text","text":"An actor-based provider that caches parsed bundle files with LRU eviction and memory pressure purge."}],"navigatorTitle":[{"text":"CachedBundleTextProvider","kind":"identifier"}],"title":"CachedBundleTextProvider","kind":"symbol","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/CachedBundleTextProvider"},"doc://StoryKit/documentation/StoryKit/StoryBundleLayout":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoryBundleLayout"}],"abstract":[{"type":"text","text":"Describes the on-disk layout for a compiled directory-based story bundle."}],"role":"symbol","kind":"symbol","url":"\/documentation\/storykit\/storybundlelayout","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleLayout","type":"topic","title":"StoryBundleLayout","navigatorTitle":[{"kind":"identifier","text":"StoryBundleLayout"}]},"doc://StoryKit/documentation/StoryKit/BundleTextProvider":{"role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"BundleTextProvider","kind":"identifier"}],"title":"BundleTextProvider","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/BundleTextProvider","abstract":[{"text":"A simple text provider for compiled bundles that parses each request.","type":"text"}],"navigatorTitle":[{"text":"BundleTextProvider","kind":"identifier"}],"url":"\/documentation\/storykit\/bundletextprovider","type":"topic","kind":"symbol"},"doc://StoryKit/documentation/StoryKit/StoryBundleLoader":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoryBundleLoader"}],"abstract":[{"type":"text","text":"Loads a Story from a compiled bundle’s "},{"type":"codeVoice","code":"graph.json"},{"type":"text","text":" file."}],"role":"symbol","kind":"symbol","url":"\/documentation\/storykit\/storybundleloader","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryBundleLoader","type":"topic","title":"StoryBundleLoader","navigatorTitle":[{"kind":"identifier","text":"StoryBundleLoader"}]},"doc://StoryKit/documentation/StoryKit/SourceTextProvider":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"SourceTextProvider"}],"abstract":[{"type":"text","text":"A simple text provider that parses the source file each time."}],"role":"symbol","kind":"symbol","url":"\/documentation\/storykit\/sourcetextprovider","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/SourceTextProvider","type":"topic","title":"SourceTextProvider","navigatorTitle":[{"kind":"identifier","text":"SourceTextProvider"}]},"doc://StoryKit/documentation/StoryKit/CachedSourceTextProvider":{"fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CachedSourceTextProvider","kind":"identifier"}],"url":"\/documentation\/storykit\/cachedsourcetextprovider","type":"topic","role":"symbol","abstract":[{"type":"text","text":"An actor-based provider that caches parsed source files with LRU eviction and memory pressure purge."}],"navigatorTitle":[{"text":"CachedSourceTextProvider","kind":"identifier"}],"title":"CachedSourceTextProvider","kind":"symbol","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/CachedSourceTextProvider"},"doc://StoryKit/documentation/StoryKit/StoryCompiler":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoryCompiler"}],"abstract":[{"type":"text","text":"Compiles a source folder into a directory-based bundle for runtime use."}],"role":"symbol","kind":"symbol","url":"\/documentation\/storykit\/storycompiler","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryCompiler","type":"topic","title":"StoryCompiler","navigatorTitle":[{"kind":"identifier","text":"StoryCompiler"}]},"doc://StoryKit/documentation/StoryKit/StorySourceLayout":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StorySourceLayout"}],"abstract":[{"type":"text","text":"Describes the on-disk layout for a human-authored story source."}],"role":"symbol","kind":"symbol","url":"\/documentation\/storykit\/storysourcelayout","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StorySourceLayout","type":"topic","title":"StorySourceLayout","navigatorTitle":[{"kind":"identifier","text":"StorySourceLayout"}]},"doc://StoryKit/documentation/StoryKit/TextSectionParser":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"TextSectionParser"}],"abstract":[{"type":"text","text":"Parses Markdown files that contain multiple node sections separated by a special token."},{"type":"text","text":" "},{"type":"text","text":"Token format (at start of line):"},{"type":"text","text":" "},{"type":"text","text":"=== node: "},{"type":"text","text":" ==="},{"type":"text","text":" "},{"type":"text","text":"Splits Markdown into labeled sections using lines like "},{"type":"codeVoice","code":"=== node: <section-id> ==="},{"type":"text","text":"."}],"role":"symbol","kind":"symbol","url":"\/documentation\/storykit\/textsectionparser","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/TextSectionParser","type":"topic","title":"TextSectionParser","navigatorTitle":[{"kind":"identifier","text":"TextSectionParser"}]},"doc://StoryKit/documentation/StoryKit/StoryIOError":{"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"text":"StoryIOError","kind":"identifier"}],"type":"topic","title":"StoryIOError","role":"symbol","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"StoryIOError"}],"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryIOError","abstract":[{"type":"text","text":"Errors thrown while loading Markdown text or locating sections."}],"url":"\/documentation\/storykit\/storyioerror"},"doc://StoryKit/documentation/StoryKit/Story":{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/Story","title":"Story","navigatorTitle":[{"text":"Story","kind":"identifier"}],"type":"topic","abstract":[{"type":"text","text":"A complete story graph plus metadata and a starting node."}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Story","kind":"identifier"}],"role":"symbol","url":"\/documentation\/storykit\/story","kind":"symbol"},"doc://StoryKit/documentation/StoryKit/StoryLoader":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoryLoader"}],"abstract":[{"type":"text","text":"Loads a Story from a "},{"type":"codeVoice","code":"story.json"},{"type":"text","text":" file."}],"role":"symbol","kind":"symbol","url":"\/documentation\/storykit\/storyloader","identifier":"doc:\/\/StoryKit\/documentation\/StoryKit\/StoryLoader","type":"topic","title":"StoryLoader","navigatorTitle":[{"kind":"identifier","text":"StoryLoader"}]}}}