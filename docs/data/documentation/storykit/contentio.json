{"sections":[],"metadata":{"modules":[{"name":"StoryKit"}],"roleHeading":"Article","role":"article","title":"Content I\/O"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/storykit\/contentio"]}],"hierarchy":{"paths":[["doc:\/\/StoryKit\/documentation\/StoryKit"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/StoryKit\/documentation\/StoryKit\/ContentIO"},"abstract":[{"text":"Load, compile, and serve story content and text.","type":"text"}],"kind":"article","schemaVersion":{"patch":0,"major":0,"minor":3},"primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","text":"Overview","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"text":"The ContentIO module handles authoring and runtime content formats, text parsing, and compiled bundle manifests.","type":"text"}]},{"level":2,"type":"heading","text":"Layouts and Loaders","anchor":"Layouts-and-Loaders"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StorySourceLayout"},{"type":"text","text":": Describes a source folder with "},{"type":"codeVoice","code":"story.json"},{"type":"text","text":" and "},{"type":"codeVoice","code":"texts\/"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StoryBundleLayout"},{"type":"text","text":": Describes a compiled "},{"type":"codeVoice","code":".storybundle"},{"type":"text","text":" directory."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StoryLoader"},{"type":"text","text":": Loads a "},{"type":"codeVoice","code":"Story"},{"type":"text","text":" from a "},{"type":"codeVoice","code":"story.json"},{"type":"text","text":" file."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StoryBundleLoader"},{"type":"text","text":": Loads a "},{"type":"codeVoice","code":"Story"},{"type":"text","text":" from a bundle’s "},{"type":"codeVoice","code":"graph.json"},{"type":"text","text":"."}]}]}],"type":"unorderedList"},{"level":2,"type":"heading","text":"Compiler and Manifest","anchor":"Compiler-and-Manifest"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StoryCompiler"},{"type":"text","text":": Compiles a source folder into a bundle."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StoryBundleManifest"},{"type":"text","text":": Records schema version, story metadata, build time, and the SHA‑256 hash of "},{"type":"codeVoice","code":"graph.json"},{"type":"text","text":"."}]}]}],"type":"unorderedList"},{"level":2,"type":"heading","text":"Markdown Text","anchor":"Markdown-Text"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"TextSectionParser"},{"type":"text","text":": Splits Markdown files into named sections using lines of the form "},{"type":"codeVoice","code":"=== node: <section-id> ==="},{"type":"text","text":"."}]}]}],"type":"unorderedList"},{"level":3,"type":"heading","text":"Text Providers","anchor":"Text-Providers"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"SourceTextProvider"},{"type":"text","text":" and "},{"type":"codeVoice","code":"BundleTextProvider"},{"type":"text","text":": Minimal providers that parse a file on each request."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"CachedSourceTextProvider"},{"type":"text","text":" and "},{"type":"codeVoice","code":"CachedBundleTextProvider"},{"type":"text","text":": Actor‑based providers with LRU caches and memory‑pressure purging."}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"Both cached providers accept a ","type":"text"},{"type":"codeVoice","code":"maxBytes"},{"text":" budget and evict least‑recently‑used files when the cache exceeds this size. Memory pressure notifications trigger a full purge.","type":"text"}]},{"level":2,"type":"heading","text":"Errors","anchor":"Errors"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StoryIOError"},{"type":"text","text":": Throws when a requested text section is missing."}]}]}],"type":"unorderedList"}]}],"references":{"doc://StoryKit/documentation/StoryKit":{"identifier":"doc:\/\/StoryKit\/documentation\/StoryKit","title":"StoryKit","type":"topic","kind":"symbol","role":"collection","abstract":[],"url":"\/documentation\/storykit"}}}